<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ypwang.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Life&#39;s Notes">
<meta property="og:url" content="https://ypwang.github.io/index.html">
<meta property="og:site_name" content="Life&#39;s Notes">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yun-Pan Wang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://ypwang.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Life's Notes</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Life's Notes</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">岁月数载，愿不负韶华</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2022/hello-world-1939fef88a09/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/hello-world-1939fef88a09/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-01-24 22:38:33" itemprop="dateCreated datePublished" datetime="2022-01-24T22:38:33+08:00">2022-01-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>371</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very
first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for
more info. If you get any problems when using Hexo, you can find the
answer in <a
target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or
you can ask me on <a
target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="quick-start">Quick Start</h2>
<h3 id="create-a-new-post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new post <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a
target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="run-server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="generate-static-files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a
target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="deploy-to-remote-sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a
target="_blank" rel="noopener" href="https://hexo.io/docs/deployment.html">Deployment</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2021/%E6%97%A5%E8%AE%B0-210524-md-9d6ef4f3e9c0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/%E6%97%A5%E8%AE%B0-210524-md-9d6ef4f3e9c0/" class="post-title-link" itemprop="url">日记-210524.md</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-24 21:24:29" itemprop="dateCreated datePublished" datetime="2021-05-24T21:24:29+08:00">2021-05-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>4.3k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>4 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="待思考的地方">待思考的地方</h2>
<p>P38: 结论应该怎么写？</p>
<h2 id="讲稿">讲稿</h2>
<p>各位答辩老师下午好，我是王云攀，我的毕业论文题目是基于GPU的/图神经网络计算性能/优化研究，指导老师是黄宜华教授</p>
<p>我将从5个方面展开</p>
<p>首先来看研究背景/和相关工作</p>
<p>图神经网络是一种基于深度学习/处理图域数据/的方法，广泛应用于多个领域。
众多图神经网络系统，采样技术/和基于采样的训练推理流程被提出。</p>
<p>本文重点研究/面向GPU环境的图神经网络计算性能优化。</p>
<p>现有的性能评估工作对图神经网络训练推理过程计算效率方面的性能瓶颈研究不充分，如未涵盖训练阶段，且未考虑采样方法对性能瓶颈的影响</p>
<p>而目前的采样方法重点关注于优化采样方式，以降低采样对模型精度的影响，对算法流程上的计算效率缺乏关注</p>
<p>现有的分布式系统对GPU支持有限，单机多GPU系统也未关注到基于采样的训练推理流程中的内存开销问题。</p>
<p>本文的工作概述如下：</p>
<p>针对计算效率性能瓶颈不明确、缺乏相关分析工作的问题，研究设计了一系列实验，对基于GPU的图神经网络计算性能瓶颈做了系统性的分析。</p>
<p>性能分析发现，边计算是主要的性能瓶颈。高额的内存使用限制了图神经网络的数据扩展性。采样技术能有效降低内存使用，但基于采样的计算流程存在额外开销占比大导致GPU利用率低、内存波动大导致个别批次可能出现内存溢出两大问题。</p>
<p>针对训练推理流程GPU利用率低的问题，研究提出了基于流水线并行的训练推理流程优化方法。采样流程的流水线并行优化有效解决了采样流程额外开销大的问题。训练与评估步骤的流水线并行优化有效解决了评估步骤耗时长的问题。最终的实验结果证实了该优化方法的有效性。</p>
<p>针对不同批次内存开销波动大以及个别批次可能出现内存溢出风险的问题，研究提出了内存使用可控的训练推理流程优化方法。利用基于线性模型和随机森林的内存开销模型有效识别出可能带来内存风险的采样子图，并针对这些子图采取基于度数和PageRank的超限子图剪枝策略缩减子图规模，确保内存开销不超限。实验结果表明，两种预测模型有着非常高的精度，超限子图剪枝策略能有效限制子图的内存开销，且对模型精度的影响小于随机剪枝策略。</p>
<p>第二章将介绍性能瓶颈分析工作。</p>
<p>本文根据边/点复杂度将主流图神经网络算法划分在了四个象限，并选取了各个象限的代表算法GaAN,
GGNN, GCN, GAT作为评估算法。</p>
<p>选取了七个性能评估中常用的数据集用于实验</p>
<p>以下是具体的实验设置，基于PyG实现了所有算法，并设计了统一的两层网络结构。</p>
<p>接着，我们从时间分解分析、内存使用分析，采样对性能的影响分析三个方面进行了性能瓶颈分析。</p>
<p>通过观察四个算法在图神经网络层的耗时分解，我们可以发现对于大多数情况，边计算占据了主要的耗时。</p>
<p>在PyG中，边计算被分解为了四个步骤，收集、消息传递、聚集和向量更新。</p>
<p>从边计算层耗时分解中可以分析，对于边计算复杂度高的算法（GAT和GaAN），消息传递是主要性能瓶颈。但边计算复杂度低时，收集和聚集步骤也占据了相当比例的耗时。</p>
<p>对于内存使用来说，定义内存膨胀比例为峰值内存与数据加载内存的壁纸，从图中可以看出，图神经网络计算过程存在着高额的内存开销。</p>
<p>基于采样的图神经网络训练推理流程以分批方式进行。单个批次包含了三个步骤：CPU端的采样，CPU端到GPU端的数据传输和GPU端的训练与推理。</p>
<p>通过比较不同批规模与全数据训练的内存使用，我们发现采样技术的确能显著减少内存使用！</p>
<p>在对单个批次训练耗时进行分解后，可以发现基于采样的训练推理存在的一个问题：采样和数据传输步骤占到了相当大的比例，该额外开销直接降低了GPU利用率。</p>
<p>通过内存使用分布箱线图可以发现基于采样的训练推理中的另一个问题：不同批次的内存开销波动很大，其中极个别批次可能导致内存溢出风险。</p>
<p>基于上述分析可以总结如下：
（1）边计算是大多数的图神经网络的性能瓶颈。
（2）高额内存使用限制了图神经网络的数据扩展性，采样技术能显著减少内存使用，将图神经网络扩展到大规模图数据集。但是，采样流程存在两大性能问题。第三章和第四章将分别解决这两大问题。</p>
<p>本部分的完整工作已在CCF-C类期刊上全文发表。</p>
<p>第三章将对基于流水线并行的训练推理流程优化方法进行介绍。</p>
<p>时间方面，对于图神经网络训练推理流程，除了采样流程的额外开销显著外，还存在着训练过程的评估步骤耗时较长的问题。本章将通过流水线的方式解决这两大性能问题。</p>
<p>如图所示，通过理论加速比的分析可以发现，理论加速比与总计算批次、采样、数据传输步骤的耗时占比关。</p>
<p>对于该优化具体实现，本文使用了基于CUDA流实现了采样和数据传输步骤的并发执行。基于数据预取技术，借助双线程和队列实现了采样数据传输步骤和GPU计算步骤的并发执行。</p>
<p>对于训练与评估步骤的流水线并行优化，同理，可以发现理论加速比与训练轮数和评估耗时占比相关。</p>
<p>对于具体实现，基于多进程和本地文件数据共享进行了实现。总共维护了三个进程，主进程负责总控制，训练进程负责模型训练，评估进程负责模型评估。训练进程和评估进程通过本地文件进行数据交换。</p>
<p>由于实际中采样、数据传输、评估耗时占比一直发生变化，实际加速比的代表意义不强。这里将优化效果定义为了实际加速比与理论加速比的比值。</p>
<p>其他设置与第二章保持一致。</p>
<p>从图中可以发现，优化效果只与总耗时相关，随总耗时增加而增加，其他因素通过影响总耗时影响优化效果。这是因为实现本身的额外开销一定，总耗时越多，意味着额外开销占比越少，从而优化效果更好。</p>
<p>在训练与评估步骤的优化效果评估中，同理观察到了类似的结论。</p>
<p>对于叠加优化效果评估，虽然具体的优化比值存在差异，在大多数情况下，优化1+优化2的组合可以取得更好的优化效果。</p>
<p>第四章将介绍内存使用可控的训练推理流程优化方法。</p>
<p>GPU内存有限，如何在有限的条件下安全地实现大规模的图神经网络训练推理变得至关重要。由第二章分析知，基于采样的训练推理流程能大幅降低计算过程中的内存开销。但该流程存在不同批次内存波动大从而个别批次触发内存溢出风险问题。</p>
<p>从内存安全角度，研究内存使用可控的图神经网络训练推理流程变得非常重要。</p>
<p>下图展示了总流程设计。</p>
<p>我们在单个批次的常规训练流程中加入了内存超限处理步骤，负责发现和处理超限采样子图。面对不同的应用场景，我们提出了两种不同的预测模型：线性模型和随机森林。由于推理阶段必须对采样子图推理，推理阶段直接进入剪枝处理机制。为了避免对模型精度的影响，对于训练阶段，会尝试一定次数的重采样，再执行剪枝处理机制。</p>
<p>确定超参数场景指算法的超参数、数据集规模和批规模等所有均确定的场景，常出现于图神经网络应用阶段或开发阶段的某个具体步骤。</p>
<p>基于峰值内存开销与输入图的二元线性关系，在此场景下，可直接基于边数和点数的二元线性模型预测内存开销。</p>
<p>非确定超参数场景指仅图神经网络结构确定（算法确定），其他均可以不确定的场景，常出现与图神经网络的设计阶段。基于多个参数对具体值建模，本质上为回归问题。</p>
<p>通过对多种已有的机器学习方法比较，随机森林综合表现最好，选择其作为了预测模型。</p>
<p>为了获得较为精确的模型，在训练或推理之前会构造一定数量的样本预训练模型。
为了进一步提高模型的精度，在训练或推理过程中，会基于确定阈值对模型进行在线更新。</p>
<p>基于对峰值内存与图的边数的线性关系，可以使用二分搜索作为采样子图规模上界预测方法。</p>
<p>对于采样子图剪枝处理总流程，在通过规模上界预测方法得到剪枝边数后，会基于边的重要性评估所有边并剪枝掉重要性低的边以缩减采样子图。这里设计了基于度数和PageRank信息设计了两种边重要性衡量方法，其基本思想是一条边的两个顶点越重要，那么其边越不重要。</p>
<p>预测模型的评价指标，误差方面选取了MAPE(平均绝对百分比误差)；准确率方面选取了R2决定系数指标。其他设置与第二章保持一致。</p>
<p>从线性模型的测试集上的分析结果可以发现，线性模型表现出来非常好的性能，误差小于0.006，
准确率均在99%以上。（）</p>
<p>如图展示了随机森林与其他机器学习方面对比，可以发现，随着训练集规模的增加，随机森林在两个指标上表现最好。</p>
<p>对于预测模型的额外开销，可以发现，额外开销很稳定，而且值也很小。</p>
<p>同时，我们展示了实际模拟情况下的预测效果，可以发现，两种模型所有批次的内存开销均成功控制在了指定GPU内存限制内。</p>
<p>如图展示了推理阶段使用采样子图规模上界预测方法和随机剪枝策略后的内存分布箱线图，可以看出，所有批次的内存开销均控制在了指定GPU内存限制内</p>
<p>首先，我们评估了不同剪枝比例下的各个算法的精度情况。可以发现，绝大多数情况下，两种剪枝的精度均优于随机剪枝。同时，使用剪枝可能取得更好的模型精度！</p>
<p>对实际情况来说，除了PageRank剪枝在ClusterGCN算法和ogbn-products数据集上的情况外，两种剪枝精度均优于随机剪枝。</p>
<p>由于本文提出了剪枝策略使用了多余的信息，所以两种剪枝策略耗时高于随机剪枝。但由于实际情况中剪枝策略发生的比例非常小（如表所示，实际情况中均小于14%），所以不会带来太多的额外开销！</p>
<p>本文工作总结如下：
第一，研究设计了一系列实验，对基于GPU的图神经网络计算性能进行了系统性的分析。选取了四个代表性算法，从时间、内存和采样对性能的影响三个方面进行了分析</p>
<p>第二，研究了提出了基于流水线并行的训练推理流程优化方法。实现了采样流程的流水线优化和训练与评估步骤的流水线优化，实验证实了该优化方法的有效性。</p>
<p>第三，研究提出了内存使用可控的训练推理流程优化方法。提出了基于线性模型和随机森林的内存开销预测模型；提出了基于二分搜素的采样子图规模上界预测方法和基于度数和PageRank的超限子图剪枝策略。实验证实了该优化方法的有效性。</p>
<p>未来工作考虑从三个方面展开： 1.
多GPU或分布式环境下的训练推理流程性能优化。 2.
面向具有动态拓扑结构的时空图数据集的性能优化 3.
新兴的图神经网络编程模型的性能差异</p>
<p>这是我在研究生期间的主要工作</p>
<p>最后，感谢各位老师和同学，以上就是我的硕士论文答辩</p>
<h2 id="todo">TODO</h2>
<ol type="1">
<li>前面研究背景还存在很大的问题 &gt; 这里需要添加的内容太多了</li>
</ol>
<p>优先级：先完成必须要改的，然后再考虑怎么改</p>
<ol start="2" type="1">
<li>“研究背景与动机”应该怎么写？ &gt; ?</li>
</ol>
<h2 id="安排">安排</h2>
<ol type="1">
<li><p>先第一遍把自己觉得有问题的地方改正</p></li>
<li><p>写一遍稿子，从而来检查自己的通顺程度</p></li>
<li><p>调格式，调字体 &gt; 1,2,3目标为将PPT完成好 &gt;
不能出现不通顺，错别字等问题</p></li>
<li><p>反复修改演讲稿</p></li>
<li><p>背演讲稿（反复累计10遍）</p></li>
<li><p>累计10遍以后</p></li>
<li><p>计时排练（争取在10分钟左右），同时详略得当</p></li>
<li><p>现场放映，并观看PPT的显示是否有问题，是否需要调整PPT的字体。</p></li>
</ol>
<h2 id="纠正自己的作息">纠正自己的作息</h2>
<p>认识自己，坚持做一件事！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2021/%E6%97%A5%E8%AE%B0-210518-10b781ce206c/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/%E6%97%A5%E8%AE%B0-210518-10b781ce206c/" class="post-title-link" itemprop="url">日记-210518</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-18 23:23:08" itemprop="dateCreated datePublished" datetime="2021-05-18T23:23:08+08:00">2021-05-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.7k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>今天被批评了，这些都是由我自己造成的。</p>
<p>很多时候感到自己孤单，但是一细想是能体会到身边人对我的关心的。</p>
<blockquote>
<p>先回复师兄吧</p>
</blockquote>
<p>昨天预答辩表现太差，实属自作自受。一下子浪过了头，PPT也没有做好，</p>
<h2 id="ppt大纲">PPT大纲</h2>
<p>新的PPT的计划:(15分钟)</p>
<h3 id="标题-目录-30s-2页">标题 + 目录 (30s) (2页)</h3>
<h3 id="第一章-研究背景及相关工作2min-7页">第一章
研究背景及相关工作（2min) (7页)</h3>
<p>1.1 研究背景 P1: -
图神经网络作为一种基于深度学习处理图数据的方法，广泛应用与多个领域 -
现实应用中图数据规模迅速增长，图神经网络结构日益增长，但GPU内存受限。许多图神经网络系统和采样技术相继提出。
-
本文重点关注于从系统角度的基于GPU的大规模图神经网络的计算性能优化。</p>
<p>1.2 相关工作（待进一步完善） P2: （1）图神经网络算法
现有图神经网路算法众多，但对基于GPU的大规模图神经网络的计算性能的关注工作却有限。
这些算法主要集中在精度，并且都是case by case P3: （2）图神经网络性能评估
效率方面工作集中于发现 P4:（3）图神经网络系统
目前系统包含了单机环境、分布式环境的系统。 从xx, xxx,
xx角度可以将这些系统划分为 1 2 3
这些系统没有关注到提高采样流程的效率和采样流程的安全性。
P5:（4）采样方法 采样方法专注于采样本身的效率，以及如何提升精度。
这些采样方法为考虑。</p>
<p>1.3 工作概述 P6:
（1）针对性能瓶颈分析工作缺乏的问题，本文对图神经网络计算性能进行了系统的分析。
-
选择了四个代表性算法，对采样技术引入前后的图神经网络的性能瓶颈进行了研究。
（2）针对训练推理过程低效的问题，研究提出了基于流水线并行的图神经网络训练推理流程优化方法。
- 采样流程的流水线并行优化有效解决了采样过程额外开销大的问题。 -
训练与评估步骤的流水线并行优化有效解决了评估步骤耗时长的问题。 -
实验结果表明，该优化方法可以有效加速训练与推理过程。
（3）针对内存开销波动以及个别批次可能出现内存溢出风险的问题，研究提出了内存使用可控的图神经网络训练推理流程优化方法。
-
利用面向确定超参数的线性模型和面向非确定超参数的随机森林，对给定采样子图上的内存开销进行预测。
-
采样基于度数和PageRank的超限子图剪枝策略缩减子图规模，确保内存开销小于GPU内存容量上限。
-
实验结果表明，线性内存开销预测模型准确率达99%以上，随机森林预测准确率高达95%，超限子图剪枝策略能有效限制采样子图的内存开销，且对模型精度的影响低于随机剪枝策略。</p>
<h3 id="第二章-基于gpu的图神经网络计算性能瓶颈-3min-11页">第二章:
基于GPU的图神经网络计算性能瓶颈 3min (11页)</h3>
<p>2.1 实验说明 （1）实验算法 P1:
对于图神经网络来说，主要可以分为三个步骤：a.聚集;
b.更新。聚集操作与领边相关，更新操作与点相关。根据复杂度分析，本文将主流的算法划分在四个象限。选取各个象限的GCN,GGNN,GAT,GaAN作为代表性算法
（2）实验设置 P2: 如图所示，实验数据集和实验设置 -
数据集：精度评估中最常用的数据集 - 选取了两种代表性的采样方法。
（略去参数设置） 2.2 图神经网络的性能瓶颈？ P3: 时间方面
图神经网络层：在大多数情况下，边计算都是主要性能瓶颈。
边计算层：边计算的性能瓶颈在消息步骤，同时聚集和收集步骤也非常重要。</p>
<p>P4: 内存方面
PyTorch本身产生用于后向传播的被缓存的内存产生了高额的膨胀比例，导致了内存很难扩展到。</p>
<p>总结：图神经网络计算的性能瓶颈在边计算时期。
但是，图神经网络存在高额的内存使用，制约了数据扩展性。</p>
<p>2.3 采样对性能的影响</p>
<p>P5:
为了解决GPU内存有限下，大规模图神经网络的训练，采样技术提出。采样技术从大图中采样出小图，来进行图神经网络。相比于全图训练方式，采样技术以分批方式，即一轮训练中将大图拆分为多个小图进行一个批次训练。
采样是基于CPU的，一次参数更新中加入了采样过程和数据传输的耗时。
如图所示，可以发现，与全数据方式相比，明显内存更低。</p>
<p>此外，由于评估部分，需要基于全图评估，发现相比于全图评估。 训练耗时
-&gt; 采样耗时</p>
<p>P6: 采样对精度的影响。</p>
<p>P7:
如图所示，对采样过程BreakDown分析。目前，采样过程的采样和数据传输占据了大部分的耗时。</p>
<p>P8: 采样引入了随机性。如图所示，。推理同样如此。</p>
<p>2.4 总结 P9:
图神经网络计算的性能瓶颈在边计算时期。边计算复杂度高时，重点在消息时期。同时，收集和聚集也值得优化。
GPU内存有限下，由于高内存使用，采样技术是大规模的必要手段。采样并不会带来精度的下降。但采样存在两大性能问题：</p>
<ol type="1">
<li><p>训练推理流程低效问题。训练流程中存在评估步骤耗时大，采样过程存在采样和数据传输额外开销大。</p></li>
<li><p>内存有限下的内存安全问题。内存波动大从而某些个别批次可能触发内存安全问题。</p></li>
</ol>
<h3
id="第四章-基于流水线并行的图神经网络训练推理流程优化5min-13页4912">第四章:
基于流水线并行的图神经网络训练推理流程优化。5min (13页)；4/9=1/2</h3>
<blockquote>
<p>可思考这里是否需要引入问题背景</p>
</blockquote>
<p>P1: 4.1 总设计流程（通用化流程） <img
src="日记-210518/第四章_总体流程设计.png" /></p>
<p>P2&amp;P3: 4.2 采样过程的流水线并行优化</p>
<p>P4&amp;P5: 4.3 训练和评估步骤的流水线并行优化</p>
<p>4.4 实验结果分析（实验数据集与第三章一致） P6: 实验说明 &gt;
思考是否需要加入</p>
<p>P7: 采样过程优化 &gt; 算法、数据集和批规模的影响</p>
<p>P8: 训练与评估步骤优化 &gt; 算法、数据集和训练轮数的影响</p>
<p>P9: 叠加优化结果 &gt; 用来查看哪种优化效果更佳？</p>
<h3
id="第五章-内存使用可控的图神经网络训练推理流程优化-5min-17页-14-5页-81412">第五章:
内存使用可控的图神经网络训练推理流程优化 5min (17页) 1/4, 5页;
8/14=1/2</h3>
<blockquote>
<p>思考问题背景是否引入问题背景</p>
</blockquote>
<p>P1: 5.1 总体流程设计 <img
src="日记-210518/第五章_总体流程设计.png" /></p>
<p>5.2 内存开销预测模型 P2:（1）面向确定超参数的线性预测模型</p>
<p>P3:（2）面向非确定超参数的随机森林预测模型</p>
<p>P4:（3）内存开销预测模型的训练与在线更新</p>
<p>P5: 5.3 采样子图规模上界预测方法。</p>
<p>（1）确定删边 （2）确定使用二分法</p>
<p>5.4 采样子图的剪枝策略</p>
<p>P6：剪枝策略的工作流程（流程图）</p>
<p>P7：边重要性的衡量方法</p>
<p>5.5 性能评估 P8: 实验说明（内存开销预测模型评估指标）
（1）内存开销预测模型 a. 准确率 P9:线性内存开销预测模型
R2准确率均在0.99以上。 P10: 随机森林模型。 R2准确率均在0.95以上。 b.
额外开销</p>
<p>（2）重采样策略评估 P11: &gt; 耗时这里就是重采样一次的耗时</p>
<p>（3）剪枝策略评估 a. 准确率 P12: 不同算法下准确率 P13:
内存受限下对准确率的影响 b. 额外开销 P14:
虽然很耗时，但是剪枝发生比例非常小，所以额外开销有限。</p>
<blockquote>
<p>（4）总的额外开销 总的额外开销由内存开销预测模型 + 重采样处理机制 +
可能的剪枝处理。</p>
</blockquote>
<h3 id="第六章-总结与展望-1min-2页">第六章 总结与展望 1min （2页）</h3>
<p>P1: 本文工作总结</p>
<p>P2: 未来工作</p>
<h3 id="附录-5页">附录 (5页)</h3>
<p>P1: 研究生期间工作</p>
<p>P2: 致谢</p>
<p>P3&amp;P4: 参考文献</p>
<p>P5: 谢谢</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2021/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0-%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E4%B8%8E%E8%A7%A3%E5%86%B3-f111709bda69/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0-%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E4%B8%8E%E8%A7%A3%E5%86%B3-f111709bda69/" class="post-title-link" itemprop="url">问题分析与解决</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-10 22:36:51" itemprop="dateCreated datePublished" datetime="2021-05-10T22:36:51+08:00">2021-05-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>238</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="概述">1. 概述</h2>
<p>几种错误的做法： - 否定状况 - 在错误时机追究责任 -
夸张评价：来源与恐惧，因此想要逃离或者消极面对；危害：对问题置之不理</p>
<p>归因: 认为“问题绝对不会发生”</p>
<p>问题的解决者： 1. 首先具备优异的压力管理能力</p>
<p>问题分析与解决的五大基本步骤： 1. 发现问题并归类 2. 设定具体课题:
SCQA分析法 3. 找出替代方案 4. 评估替代方案: 情境分析法 5. 实施解决策略:
剔除超过容许范围的替代方案，指定详细的行动计划</p>
<h2 id="确定问题">2. 确定问题</h2>
<p>问题: 明天的会议请谁来主持? 怎样才能降低沟通成本?</p>
<h2 id="问题的分类及解决思路">3. 问题的分类及解决思路</h2>
<h2 id="section">4.</h2>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2021/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0-%E6%83%85%E7%BB%AA%E7%AE%A1%E7%90%86-d97e12218af6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0-%E6%83%85%E7%BB%AA%E7%AE%A1%E7%90%86-d97e12218af6/" class="post-title-link" itemprop="url">情绪管理的重要性</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-08 22:43:40" itemprop="dateCreated datePublished" datetime="2021-05-08T22:43:40+08:00">2021-05-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>957</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="情绪管理的观念">情绪管理的观念</h2>
<p>概念： 1.
情绪随时可能产生，有正向有负向，然而往往影响我们的是负面的情绪事情 2.
负面情绪如果积累到一定程度，一定会在最意想不到的时候，以最意想不到的强度爆发。
3. 情绪是不嗯呢该被压抑的，只能被标明、了解和疏导。</p>
<p>工作角度：
非常容易失去关系的，好的同事关系和工作氛围可以增加我们的工作的效率
个人角度： 心理垃圾也要及时清理</p>
<p>先处理好心情，才能处理好事情</p>
<h2 id="情绪的定义和产生">情绪的定义和产生</h2>
<ul>
<li><p>人脑的发展顺序： 脑干：主管呼吸、睡眠、心跳、消化系统等
情感的脑：主管情绪和人际关系等
理性的脑：主管逻辑思考、理性分析等</p></li>
<li><p>情绪的脑在激昂的时候会把冲突对方看成是敌人而不是友人。</p></li>
<li><p>情绪的产生：情绪ABC理论 A.情境、时间 -&gt; B.思想、诠释 -&gt;
感受、情绪反应</p></li>
<li><p>情绪感受和思想诠释的区别
诠释：对一件事的价值判断，和行为一样，有好坏之分的。
情绪：一个人对一件事的主管感受，不应该有对错之分，任何一种情绪的产生都是合理的</p></li>
<li><p>当我们可以花时间了解自己的情绪时，找到引发情绪的思想诠释，就可以很好的管理我们的情绪。</p></li>
</ul>
<h2 id="情绪调节五要诀">情绪调节五要诀</h2>
<ol type="1">
<li>描述情境：用“当...”的句式，客观、具体地描述事件
<ol type="1">
<li>客观地描述情景：将自己想象为墙上的录影机</li>
<li>具体地描述情境</li>
</ol></li>
<li>标明情绪：用“我觉得...”的句式，找到可以描述情绪的形容词。根据层次，选择2-3个层次的形容词</li>
<li>寻找诠释：用“我觉得...(情绪)，因为...(诠释)”的句式</li>
<li>探索需求：用“我的需要是...”的句式，找到自己行为层面和心理层面的需要（最难的地方）
<ul>
<li>行为层面的需要：把策划改好，发给Leader</li>
<li>心理层面的需要：努力被看见，工作能力被认可</li>
</ul></li>
<li>行动改进：用“建设性的想法和行动是...”的句式，思考如何借着建设性的想法和行动，帮助他人成功地满足你的需要
<ul>
<li>心理需要：建设性的想法——一个更成熟、更客观地看待这件事情的角度</li>
<li>行为需要：建设性的行动——一些切实可行的行动</li>
</ul></li>
</ol>
<h2 id="提示">提示</h2>
<ol type="1">
<li>情绪疏导是非常私密的事情，可以自己用文字的方式写下来，这样会更清晰</li>
<li>如果需要向别人倾诉，可以选择一个你信赖的、同时和这件事毫不相关的第三方</li>
<li>如果你觉得有必要和发生冲突的对方探讨这件事，请一定在自己疏导完全后再和对方沟通。同时，不要谈及任何第三步“诠释”部分，表达不当很可能会引发新的冲突。</li>
</ol>
<p>每一次情绪来临的时候，都是一个很好的自我探索和成长的机会。
先处理好心情，才能处理好事情</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2021/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0-%E9%AB%98%E6%95%88%E8%83%BD%E8%AE%A4%E8%AF%86%E7%9A%84%E4%B8%83%E4%B8%AA%E4%B9%A0%E6%83%AF-e8878b26a334/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/%E8%AF%BE%E7%A8%8B%E5%AD%A6%E4%B9%A0-%E9%AB%98%E6%95%88%E8%83%BD%E8%AE%A4%E8%AF%86%E7%9A%84%E4%B8%83%E4%B8%AA%E4%B9%A0%E6%83%AF-e8878b26a334/" class="post-title-link" itemprop="url">课程学习_高效能认识的七个习惯</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-05-07 23:46:03" itemprop="dateCreated datePublished" datetime="2021-05-07T23:46:03+08:00">2021-05-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>2.5k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>2 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>https://elearning.kundou.cn/student/course-content/5fc9b77e5ebfdb9c5c6a6bf2?entrance=course_list&amp;lesson=yFQ2eUbYM</p>
<h2 id="高效能人士的习惯概述">1. 高效能人士的习惯概述</h2>
<p>如何使自己变成高效能人士？</p>
<p>第一步，转变思维方式。培养以原则为中心的思维方式。原则是不能动摇的自然法则，如公平、正义、诚信等。有了它就可以培养高效能的习惯。</p>
<p>第二步，培养以下六个习惯。 个人领域： 1 积极主动 2 以终为始。 3
要事第一。</p>
<p>公众领域： 4 双赢思维 5 知彼解己 6 综合统效</p>
<p>总的方面 7 不断更新</p>
<h2 id="积极主动">2. 积极主动</h2>
<p><img
src="课程学习-高效能认识的七个习惯/_sec2_积极主动_小结.png" /></p>
<p>在刺激与回应之间，人有选择的自由</p>
<p>积极主动的含义： 第一，采取积极的态度与行动，面向现实和面向未来
第二，个人的行为是取决于自身选择，而不是外在环境</p>
<p>日常语言： 我可以xxx 我能选择xxx 我选择xxx 我愿意xxx</p>
<p>每个人有自己的关注点，按照是否可以掌控可以分为： 一，影响圈
如何提高自己的影响力 二，关注圈</p>
<p>如何做到积极主动？ 1 专注并扩大“影响圈” -
可直接控制的问题：与自身行为相关，培养正确习惯 -
可间接控制的问题：与他人行为相关，改进影响方法 -
无法控制的问题：与经历&amp;环境有关，改变心态 2 改善语言的使用习惯 3
从小事做起：以28天为一个周期，确立具体的flag</p>
<h2 id="以终为始">3. 以终为始</h2>
<p>纠结与各个问题，并且懊悔为什么没有想清楚</p>
<p>含义： - 以目标为导向，从结果出发（反向思维方式） -
以原则和价值观为基础，走对方向，走好方向</p>
<p>如何培养 1. 明确个人准则 - 基于个人的愿景和价值观——个人宪法 -
因人而异 2. 区分角色 - 排好每个角色的重要性 -
为每个角色设定好目标（三条行为要求） &gt;
如生活：朋友，女儿，摄影师；工作：销售，小白 3.
SMART法则，对每个目标进行分解，明确目标 - S(Specific): 具体的，明确的 -
M(Mesuable): 可衡量的 &gt;
能量化的量化，不能量化的细化，不能细化的流程化；数量、质量、成本、时间、满意度五个维度衡量
- A(Attainable): 可实现的 - R(Relevant): 相关性的 - T(Time-based):
有时限的</p>
<h2 id="要事第一">4 要事第一</h2>
<p>经常感觉时间不够用？重要的事情好像一件也没干好？</p>
<p>时间管理，本质是自我管理</p>
<p>“要事”的特征 1. 与目标有关 工作中，与关键OKR有关
生活中，与人生目标有关 2. 具有价值：附加价值和长远价值 3.
因人而异：个人角色与原则</p>
<p>“时间管理四象限法则” 1. 危机：重要且紧急 -
消耗大量时间和精力，持续性感到压力，成为消防员 -
不要拖延、提高效率、做好第二象限的工作（减少第一象限事情的发生） 2.
要事：重要且不紧急（七个习惯） - 制定预防性措施 - 团队梯度培养 -
锻炼身体 - 学习英语 - 复盘 3. 琐事：不重要且紧急 - TODO List -
勇于说no，分清主次 4. 杂事,消遣：不重要且不紧急 - 整理办公桌，娱乐 -
请勿沉迷</p>
<p>如何坚持做“要事”？ - 提高要事的优先级（优先将要事安排在日程表中） -
留出整块时间集中做 - 按计划逐步推进（不需要非常精细） -
将要事拆分小目标，逐步推进 - 留出弹性时间 - 摆正心态，不要急躁</p>
<h2 id="双赢思维">5 双赢思维</h2>
<p>含义？ 双赢!=妥协让步 在双方均认可下，达到均获利的方式</p>
<p>人际交往的六种模式： - 赢/输 （损人利己） - 输/赢 （舍己为人） - 赢
（独善其身） - 输/输（两败俱伤） - 赢/赢（利人利己） -
无交易（好聚好散）</p>
<p>重要性： - 是在相互依赖的环境中唯一可行的交往模式 -
是在敢作敢为与善解人意之间的平衡状态</p>
<p>如何培养？ 1. 向情感账户存款 - 理解他人 - 注意小节 - 信守承诺 -
明确目标和期望 - 正直诚信 - 勇于道歉 - 无条件的关爱 &gt;
针对不同的人，存取款行为各不相同，不要试图速战速决； &gt; 存款: &gt;
取款： 2. 识别立场，预设善意；提高ROI &gt;
不要纠结与立场，不指责不评价，以解决问题为目的 3.
无法双赢，不如好聚好散</p>
<h2 id="知彼解己">6 知彼解己</h2>
<p>先理解对方，再正确对方理解自己 倾听 + 表达</p>
<p>自传式倾听 vs 移情倾听 ? - 自传式倾听:
以自我为中心；把让别人理解自己放在首位；用自己的经历理解别人
沟通状态：频繁打断，没有眼神和肢体的交流，记不住讲述内容
表现：评价（对或不对），探究（还有其他原因），建议（好为人事），诠释（肯定是因为xx原因）</p>
<ul>
<li>移情倾听：以理解对方为目的；把先理解对方放在首位；在情感和理智上充分理解对方
沟通状态：鼓励讲话者叙述更多，眼神、表情和肢体都有互动，能记住讲述的重点</li>
</ul>
<p>步骤：
第一步，全神贯注的听。以眼神、手势和语气词配合即可。对方与你讲述内容在7:3或8:2以上。
第二步，表现出兴趣，引导对方继续讲述。对方在期待你的回应。还有呢，还有哪些呢，再多跟我说说等等
第三步，扼要总结复述，捕捉确定关键词。复述时不掺入过多的个人情感。最主要关注的是哪一点呢？
第四步，聚焦关注点，引导更深层次的沟通。你关注A是有哪些原因呢？</p>
<p>注意： 1. 节奏慢下来 2. 注意语音、语调和肢体动作 3.
把理解对方放在首位</p>
<p>知彼解己是实现有效人际沟通的关键</p>
<h2 id="统合综效">6 统合综效</h2>
<p>含义 - 整体大于部分之和 - 各部分之间的“关系”也是整体的一部分 -
有差异才有收获</p>
<p>前提条件： - 余额充足的情感账户； - 双赢模式； - 先理解他人。</p>
<p>区别： - 有开放的心态 - 充满正能量 - 以不同的视角看世界 -
寻求理解他人 - 积极寻找第三条道路</p>
<p>根本原则：尊重差异、取长补短 1. 了解你与他人的差异
第一步，写下他的特质 - 才智/能力 - 成长环境&amp;教育背景 - 人际关系能力
- 性格特征 第二步，写下你与TA的显著差别
第三步，写下这些差异可以怎样帮助你们实现共同的目标 2.
坦诚开放，尊重差异（珍视、肯定） 3. 设定共同目标</p>
<h2 id="不断更新">7 不断更新</h2>
<p>提高个人产能，保护并优化自己</p>
<ul>
<li>兼顾人生的四个层面：身体、精神、智力、社会/情感</li>
</ul>
<p>第一步，身体
第二步，精神（非常私人，因人而异），冥想，亲近大自然，找良师益友沟通，回忆小时候
第三步，智力（自我教育）。定期阅读优秀著作，写作
第三步，社会/情感（时刻自我激励，不断训练和累计）</p>
<p>如何做？ 1. 低调开始：从小事+有吸引力的事情做起 2.
留出空闲时间，不要急于求成 3. 不断调整</p>
<p>学习，坚持，实践 （坚持原则）</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2020/GraphSampling-Directions-9c9446de6884/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/GraphSampling-Directions-9c9446de6884/" class="post-title-link" itemprop="url">GraphSampling Directions</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-17 19:51:56" itemprop="dateCreated datePublished" datetime="2020-12-17T19:51:56+08:00">2020-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>68</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>未来的方向：</p>
<ol type="1">
<li>采样算法的选择： 精度高 有理论保证 按照自己的想法做</li>
</ol>
<ul>
<li>Sampling加速
<ul>
<li>选取特定的Sample算法</li>
<li>单机多卡</li>
<li></li>
<li>CPU内存放不下数据集</li>
</ul></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2020/C-SAW%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-316f3c062f95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/C-SAW%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB-316f3c062f95/" class="post-title-link" itemprop="url">C-SAW论文阅读</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-12-17 19:18:24" itemprop="dateCreated datePublished" datetime="2020-12-17T19:18:24+08:00">2020-12-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>496</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1
id="c-saw-a-framework-for-graph-sampling-and-random-walk-on-gpus">C-SAW:
A Framework for Graph Sampling and Random Walk on GPUs</h1>
<h2 id="摘要">摘要</h2>
<p>表示学习是机器学习的一个基本任务，自动地从图数据中学习到特征，而不是通过手动选择。代表算法有DeepWalk,
node2vec和GrpahSAGE.</p>
<p>这些算法首先从输入图中采样出子图。采样是一个很困难的任务，它需要并行地独立地采样出每个子图。</p>
<p>现有的图预处理，数据挖掘和表示学习系统都没有有效地实现并行化采样。减低了表示学习的end-to-end的表现</p>
<p>本文中，我们提出了NextDoor，首个设计到GPUs上的图采样方法。同时，介绍了一种高阶API</p>
<h2 id="introduction">Introduction</h2>
<p>表示学习的目标是学习数据的特征</p>
<p>当运行random walks,
NEXTDOOR相比于KnightKing提高了696倍；相比于GraphSAGE's
sampler增加了1300倍</p>
<p>主要贡献： 1. A new transit-parallel机制 2. NEXTDOOR's API 3.
NEXTDOOR's system, 利用transit-parallellism, 负载均衡和缓存 4.
Performance evaluation</p>
<h2 id="背景和动机">背景和动机</h2>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2020/survey-of-gnn-systems-253c400cb676/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/survey-of-gnn-systems-253c400cb676/" class="post-title-link" itemprop="url">survey-of-gnn-systems</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-06-24 22:10:26" itemprop="dateCreated datePublished" datetime="2020-06-24T22:10:26+08:00">2020-06-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>8k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>7 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <ul>
<li><a href="#aligraph">AliGraph</a>
<ul>
<li><a href="#%e6%95%b0%e6%8d%ae%e6%a8%a1%e5%9e%8b">数据模型</a></li>
<li><a href="#%e7%ae%97%e6%b3%95%e6%a1%86%e6%9e%b6">算法框架</a></li>
<li><a href="#%e7%b3%bb%e7%bb%9f%e6%a1%86%e6%9e%b6">系统框架</a>
<ul>
<li><a href="#%e5%9b%be%e5%ad%98%e5%82%a8">图存储</a></li>
<li><a href="#%e5%9b%be%e9%87%87%e6%a0%b7">图采样</a></li>
<li><a href="#%e8%ae%a1%e7%ae%97">计算</a></li>
</ul></li>
</ul></li>
<li><a href="#neugraph">NeuGraph</a>
<ul>
<li><a href="#%e7%bc%96%e7%a8%8b%e6%a8%a1%e5%9e%8b">编程模型</a></li>
<li><a href="#%e7%b3%bb%e7%bb%9f%e5%ae%9e%e7%8e%b0">系统实现</a>
<ul>
<li><a href="#graph-aware-dataflow-translation">Graph-Aware Dataflow
Translation</a></li>
<li><a href="#streaming-processing-out-of-gpu-core">Streaming Processing
out of GPU core</a></li>
<li><a href="#parallel-multi-gpu-processing">Parallel Multi-GPU
Processing</a></li>
<li><a href="#propagation-engine">Propagation Engine</a></li>
<li><a href="#%e5%85%b6%e4%bb%96%e6%8a%80%e5%b7%a7">其他技巧</a></li>
</ul></li>
<li><a href="#%e5%ae%9e%e9%aa%8c%e8%af%84%e4%bc%b0">实验评估</a></li>
</ul></li>
<li><a href="#dgl">DGL</a></li>
<li><a
href="#architectural-implications-of-graph-neural-networks">Architectural
Implications of Graph Neural Networks</a></li>
<li><a
href="#characterizing-and-understanding-gcns-on-gpu-yan-2020">Characterizing
and Understanding GCNs on GPU [Yan-2020]</a></li>
<li><a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%8c%ae">参考文献</a></li>
</ul>
<h1 id="aligraph"><a href="#ref-aligraph">AliGraph</a></h1>
<h2 id="数据模型">数据模型</h2>
<p>AliGraph面向的数据模型为Attributed Heterogeneous Graph (AHG)。</p>
<p><img data-src="AliGraph-Fig2.png" /></p>
<h2 id="算法框架">算法框架</h2>
<p>AliGraph所支持的通用GNN框架。在该框架中，每一层的GNN被拆解为三个基本算子：Sample,
Aggregate和Combine。其中Aggregate进行边计算，而Combine进行点计算。</p>
<p><img data-src="AliGraph-Alg1.png" /></p>
<blockquote>
<p>注意：在该算法框架中，每一层（hop）都采用了相同的Sample/Aggregate/Combine算子，其不允许不同层采用不同的算子进行组合。</p>
</blockquote>
<h2 id="系统框架">系统框架</h2>
<p>AliGraph的系统架构如下。最上面是Aggregate和Combine算子的实现，中间是Sampling方法，最下面是图存储。目前的AliGraph主要运行在CPU环境中。</p>
<p><img data-src="AliGraph-Fig3.png" /></p>
<h3 id="图存储">图存储</h3>
<p>AliGraph采用的是vertex-cut的划分方案，即不同的边被分到不同的机器上。</p>
<p><img data-src="AliGraph-Alg2.png" /></p>
<p>图中顶点和边的属性与图的邻接表<strong>分开存储</strong>，见图<a
href="#fig-AliGraph-Fig4">AliGraph-Fig4</a>。原因有二：</p>
<ol type="1">
<li><p>属性信息更占据存储空间。</p></li>
<li><p>不同顶点/边的属性有很大的重叠。例如大量顶点都具有共同的标签，例如“男性”、“洗漱用品”等。</p></li>
</ol>
<p>通过为顶点属性和边属性建立Index，将图的拓扑信息与图的属性信息建立关联。为了减少对属性信息的访问开销，在每台机器上会对Index中的属性条目建立cache，cache采用LRU替换策略。</p>
<p><img data-src="AliGraph-Fig4.png" /><a name="fig-AliGraph-Fig4"></a></p>
<p>同时，每台机器会<strong>缓存</strong>重要顶点的邻接表。采用如下的公式为每个顶点v，确定其k-重要性（k-th
importance），其中<span
class="math inline">\(D_i^{(k)}(v)\)</span>和<span
class="math inline">\(D_o^{(k)}(v)\)</span>表示顶点v的k跳出/入邻域的大小。每台机器只缓存重要性大于阈值<span
class="math inline">\(\tau_k\)</span>的顶点v的出边邻接表。实际实践表明考虑至多2跳邻域就足够了，阈值<span
class="math inline">\(\tau_k\)</span>设置为0.2就效果很好。 <span
class="math display">\[
Imp^{(k)}(v)=\frac{D_i^{(k)}(v)}{D_o^{(k)}(v)}
\]</span>
与重要性指标相关的一个定理是：如果顶点的度数服从幂率分布，则其k跳邻域的规模也服从幂率分布，从而k-重要性也服从<em>幂率分布</em>。</p>
<blockquote>
<p>对于无向图这个指标无法适用。</p>
</blockquote>
<p><a
href="#fig-AliGraph-Fig8">实验</a>表明因为Importance指标遵从Power-law分布，因此较低的threshold就能够cache足够数量的顶点。同时<a
href="#fig-AliGraph-Fig9">缓存替换策略</a>的实验基于importance指标的cache策略比随机替换和LRU替换都有效，更适合图神经网络。Importance策略和随机替换策略都是静态策略，其会预先cache相应的顶点邻接表。而LRU策略因为其动态特性，会经常剔除、替换已经cache的邻接表，导致额外开销。</p>
<p><a name="fig-AliGraph-Fig8"><img data-src="AliGraph-Fig8.png" /></a></p>
<p><a name="fig-AliGraph-Fig9"><img data-src="AliGraph-Fig9.png" /></a></p>
<blockquote>
<p>如何制定适合图分析的cache策略也是研究方向之一。</p>
</blockquote>
<p>在实现时，将边按照source
vertex划分成不同的组，每一个组绑定到一个core上。对于该组顶点邻接表的访问与更新操作被组织到一个request-flow桶中，该桶由<strong><a
href="#fig-AliGraph-Fig6">lock-free的队列实现</a></strong>。</p>
<p><a name="fig-AliGraph-Fig6"><img data-src="AliGraph-Fig6.png" /></a></p>
<h3 id="图采样">图采样</h3>
<p>AliGraph中支持3种图采样策略，同时也运行以plugin的形式扩展。</p>
<ol type="1">
<li><p>Traverse：从一个图分区中采样一批顶点。可以直接从当前服务器的分区中生成。</p></li>
<li><p>Neighborhood：采样某个顶点的1跳或多跳邻域。如果顶点邻域跨服务器，则分批地从其他图服务器获取邻接表。</p></li>
<li><p>Negative：生成负采样样本，加速收敛。通常可在本地服务器上完成，按需地查询远程服务器以获得邻接表。</p></li>
</ol>
<p>Sampler中的权重也允许根据梯度进行更新。</p>
<p>经过采样，每个顶点的邻域大小被<strong>对齐</strong>，使其可以很容易地被处理。</p>
<p><a href="#fig-aligraph-tab4">实验表明</a>通过分布式采样（Batch
size=512，Cache size=20%），即使是很大的图，也能非常快地采样完毕。</p>
<p>Neighborhood采样因为要涉及服务器之间的通讯，速度会比另外两个采样慢很多。</p>
<p>采样技术的性能对数据规模不敏感，及时图规模增大6倍，采样时间的变化也不大。</p>
<p><a name="fig-aligraph-tab4"><img data-src="AliGraph-Tab4.png" /></a></p>
<h3 id="计算">计算</h3>
<p>编程模型中与计算相关的是Aggregate和Combine。AliGraph也允许以plugin的形式扩展实现这两个算子。需要注意的是，这两个算子需要同时实现其forward计算和backward计算的逻辑。</p>
<p>在计算的过程中，会保存每个顶点v在当前mini-batch中的最新的中间特征向量：<span
class="math inline">\(h_v^{(1)}, \dots, h_v^{(kmax)}\)</span>。</p>
<p><a href="#fig-aligraph-tab5">实验表明</a>cache
mini-batch的中间特征向量对于提升两个算子的计算速度非常重要。</p>
<p><a name="fig-aligraph-tab5"><img data-src="AliGraph-Tab5.png" /></a></p>
<h1 id="neugraph"><a href="#ref-NeuGraph">NeuGraph</a></h1>
<p>NeuGraph是微软亚洲研究院提出的面向单机多GPU环境的并行图神经网络训练框架，该框架基于TensorFlow实现。NeuGraph主要面相transductive的setting，即整个图参与训练，在目前的系统中没有考虑sample，但作者说可以集成sample到框架中。</p>
<h2 id="编程模型">编程模型</h2>
<p>NeuGraph为图神经网络训练提出了SAGA-NN（Scatter-ApplyEdge-Gather-ApplyVertex
with Neural
Networks）编程模型。SAGA-NN模型将图神经网络中每一层的前向计算划分为4个阶段：Scatter、ApplyEdge、Gather和ApplyVertex，如<a
href="#fig-neugraph-fig2">Figure
2</a>所示。其中ApplyEdge和ApplyVertex阶段执行用户提供的基于神经网络的边特征向量和点特征向量的计算。Scatter和Gather是由NeuGraph系统隐式触发的阶段，这两个阶段为ApplyEdge和ApplyVertex阶段准备数据。</p>
<p><a name="fig-neugraph-fig2"><img data-src="neugraph-fig2.png" /></a></p>
<p>在编程时，用户只需利用给定的算子实现ApplyEdge和ApplyVertex函数，并指定Gather方式，即可利用NeuGraph自动地完成GNN的训练。<a
href="#fig-neugraph-fig3">Figure
3</a>展示了利用SAGA-NN编程模型表达Gated-GCN的编程示例。</p>
<p><a name="fig-neugraph-fig3"><img data-src="neugraph-fig3.png" /></a></p>
<h2 id="系统实现">系统实现</h2>
<h3 id="graph-aware-dataflow-translation">Graph-Aware Dataflow
Translation</h3>
<p>NeuGraph采用2D图划分方法，其将顶点集划分为<strong>P</strong>个分区（trunk），边集（邻接矩阵）划分为<span
class="math inline">\(P\times P\)</span>个分区，其中边分区<span
class="math inline">\(E_{ij}\)</span>保存了连接点分区<span
class="math inline">\(V_i\)</span>和<span
class="math inline">\(V_j\)</span>的边。NeuGraph基于chunk构建数据流图，如<a
href="#fig-neugraph-fig5">Figure 5</a>所示。</p>
<p><a name="fig-neugraph-fig5"><img data-src="neugraph-fig5.png" /></a></p>
<p>其中Scatter算子接收1个边分区和2个对应的点分区，将数据整理成[src,
dst,data]的元组形式，该元组形式将传递给ApplyEdge函数进行处理。</p>
<p>在Forward阶段会产生大量中间计算结果（例如ApplyEdge中的矩阵乘法的结果），NeuGraph为了避免中间结果占用大量的GPU显存，其会将中间结果从GPU端显存上传到Host端的内存中，在Backward阶段再传回GPU端。</p>
<p>为了能在Gather阶段中复用数据，NeuGraph在Forward（Backward）阶段中采用列（行）优先的顺序处理边分区。例如为了在Forward阶段持续累加V0点分区中的点特征向量，其依次处理E(0,0),
E(1,0), ..., E(n,0)边分区。</p>
<p>NeuGraph在不超过GPU显存容量限制的情况下选择尽可能小的分区数<span
class="math inline">\(P\)</span>。</p>
<h3 id="streaming-processing-out-of-gpu-core">Streaming Processing out
of GPU core</h3>
<p>为了能让GPU处理超过其显存容量的数据，必须将数据动态地在GPU和Host端进行交换。</p>
<p><strong>Selective
Scheduling技巧</strong>：一个边分区可能只与对应点分区中少量的点发生关联，因此在从CPU端向GPU端发送点分区数据时，可以只传递点分区中的少部分数据。NeuGraph根据CPU端内存拷贝的带宽、CPU-GPU端数据交换的带宽，动态地确定阈值，来确定是向GPU发送整个点分区，还是只发送点分区中的部分数据。</p>
<p><strong>Pipeline
Scheduling技巧</strong>：将一个边分区进一步划分为sub-trunk，流水线地向GPU发送sub-trunk并在GPU端并发地进行sub-trunk的计算。为了使计算和HtoD数据传输充分地重叠，NeuGraph采用一个基于profile的sub-trunk调度方案，其在头几轮迭代中profile各个sub-trunk的计算开销和数据传输开销，并根据开销计算出更优的调度方案，如<a
href="#fig-neugraph-fig6">Figure 6</a>所示。</p>
<p><a name="fig-neugraph-fig6"><img data-src="neugraph-fig6.png" /></a></p>
<h3 id="parallel-multi-gpu-processing">Parallel Multi-GPU
Processing</h3>
<p>在拥有多GPU卡的环境中，可以充分利用各GPU卡之间的高速P2P
PCIe通信来降低Host端PCIe总线带宽压力。NeuGraph将共享PCIe
Switch的GPU卡视作一个虚拟GPU卡组，点分区、边分区的数据从Host
memory中广播到各个虚拟GPU卡的第一个物理GPU中（例如Figure
8中的GPU0和GPU2）。第一个物理GPU在对该点分区进行处理的同时，并发地将数据发送给同一个虚拟GPU中的下一个物理GPU（例如<a
href="#fig-neugraph-fig8">Figure 8</a>中的GPU1和GPU3），并发地从Host
Device载入下一批Vertex Chunk和Edge
Chunk数据。流水线地处理，直到所有点分区和边分区均处理完。</p>
<p><a name="fig-neugraph-fig8"><img data-src="neugraph-fig8.png" /></a></p>
<h3 id="propagation-engine">Propagation Engine</h3>
<p>NeuGraph在GPU上实现Graph Propagation时额外采用了如下优化手段：</p>
<ul>
<li>在ApplyEdge中出现的只与source vertex或destination
vertex相关的计算移动到上一步中的ApplyVertex中进行。这样避免对于每一条边都进行相应的计算。</li>
<li>在GPU上实现高效的Scatter和Gather kernel。</li>
<li>Scatter-ApplyEdge-Gather算子融合：当ApplyEdge算子是element-wise的简单逻辑时，其整个SAG的过程被直接替换为Fused-Gather算子，该算子直接将source
vertex和edge
data读入到kernel的register中，并在register中完成ApplyEdge的计算，计算结果累加如destination
vertex的accumulation向量。通过融合可以避免将中间计算结果保存回GPU显存，节省GPU内存访问开销。</li>
</ul>
<h3 id="其他技巧">其他技巧</h3>
<ul>
<li>模型参数每个GPU一份，通过all-reduce在各GPU之间保持同步。</li>
<li>GPU之间通过P2P通信。</li>
</ul>
<h2 id="实验评估">实验评估</h2>
<ul>
<li>实验在点分类任务上进行，我们可以借鉴论文中的叙述来说明。 <img
src="neugraph-paragraph.png" /></li>
<li>数据集的平均度数影响Graph
Propagation的时间开销，平均度数越高的数据集其Propagation的开销越高。</li>
<li>系统实验中的优化技巧是有效的，能够比单纯在TensorFlow上实现SAGA模型快2.4~4.9倍。</li>
<li>“The results under other models are similar”这句表达可以借鉴。</li>
<li>Selectively scheduling适合sparse graph而graph kernel
optimization适合dense graph。</li>
<li>即使采用了IO（GPU与Host端数据交换）和GPU
kernel互相重叠的优化，IO耗时依然长于GPU kernel计算耗时。 <img
src="neugraph-tab2.png" /></li>
<li>Chain-based mechanism对于多GPU卡的扩展性至关重要。 <img
src="neugraph-fig17.png" /></li>
<li>当GPU卡数量上来时，被多GPU共享的CPU和Memory带宽将成为制约多GPU扩展性的瓶颈。</li>
<li>NeuGraph的speedup曲线虽然是线性的，但距离理想的线性可扩展性还有差距。当其GPU卡数量从1增加到8时，其Speedup的增长远没有到8倍。</li>
</ul>
<h1 id="dgl"><a href="#ref-DGL">DGL</a></h1>
<p>DGL是支持多后端（MXNet、TensorFlow、PyTorch）的一个面向深度图神经网络的计算框架。</p>
<p>DGL也采用基于message-passing的编程模型，用户提供自定义的message
function（边计算）、update function（点计算）和reduce operation
（消息规约操作）。但与PyG不同的是，DGL支持用户提供自定义的reduce
operation，而不局限于sum、mean、max等少数几种。</p>
<p>DGL引用了文献<a
href="#ref-Xu-2018">(Xu-2018)</a>表明aggregator（即reduce）所支持的复杂度与图神经网络的表达能力密切相关。</p>
<p>DGL支持sampling机制，该机制通过指定active vertex/set set实现，以data
loader的形式提供给用户。</p>
<p>用户提供的message function和update
function必须是向量化的，即可以对多个顶点同时操作。</p>
<p>kernel fusion是一个提高计算性能的有效技巧。</p>
<ul>
<li>kernel fusion将message function与update
function合并进行，从而避免生成message的实体中间结果，从而大幅降低计算开销和GPU显存使用量。</li>
<li>kernel fusion要求message function非常简单，不能使用任何参数。</li>
<li>实验表明DGL相比PyG的主要性能提升即来自kernel fusion。</li>
</ul>
<h1 id="architectural-implications-of-graph-neural-networks"><a
href="#ref-Zhang-ICAL-2020">Architectural Implications of Graph Neural
Networks</a></h1>
<p>GNN吸引人的一个优点是end-to-end的训练能力。</p>
<p>作者认为computation-intensive GEMM
kernel不是GNN的性能热点。<strong>这个结论要和我们的实验结果对照一下</strong>。</p>
<p>本文关注<strong>inference</strong>阶段的性能热点。</p>
<p>如<a href="#fig-aignn-fig3">Fig.
3</a>所示，实际GNN中用到的基本算子的种类是有限的，各算子经过组合得到丰富的GNN架构。
<a name="fig-aignn-fig3"><img data-src="AIGNN-Fig3.png" /></a></p>
<p>DGL中允许Gather阶段采用任何的累加函数，包含LSTM，因此作者论文中覆盖了GraphSAGE-LSTM版本。</p>
<p><a href="#fig-aignn-tab2">Tab
2</a>中列出了实验中采用数据集情况。在列图数据集的情况后，可以把Graph
Type也列上，如[Tab 2] (#fig-aignn-tab2)所示。</p>
<p><a name="fig-aignn-tab2"><img data-src="./AIGNN-Tab2.png" /></a></p>
<blockquote>
<p>作者选用的数据集平均度数有些低。
采用sampling技巧后，处理的图的平均度数也可能很低，需要结合实验。
我感觉图的平均度数可能会是影响性能的重要指标。</p>
</blockquote>
<p>GPU硬件资源的利用率与图规模和隐向量的规模密切相关。</p>
<p>作者认为GNN没有固定的性能瓶颈，性能瓶颈会随着数据集和算法的不同而变化，因此各阶段都需要优化，都有优化的价值。</p>
<p>本文在处理GAT时，其ApplyEdge只有简单的矩阵向量乘法，而将耗时的softmax阶段算到Gather里，因此作者的实验结果中GAT的Gather阶段非常耗时，如<a
href="#fig-aignn-fig5">Fig. 5</a>所示。</p>
<p><a name="fig-aignn-fig5"><img data-src="./AIGNN-Fig5.png"
alt="aignn-fig5" /></a></p>
<p>本文确认了Scatter阶段（对应于PyG的collect阶段）中只有数据拷贝，没有计算，并给出了该阶段的实现<a
href="#fig-aignn-fig2">示意图</a>。</p>
<p><a name="fig-aignn-fig2"><img data-src="./AIGNN-Fig2.png"
alt="aignn-fig2" /></a></p>
<p>相比传统的图分析计算PageRank、SCC等，因为GNN中每个顶点和边上都是向量，因此对于硬件cache来说locality比较好。</p>
<p>本文进一步验证了kernel fusion对于性能提升的重要性，如<a
href="#fig-aignn-fig6">Fig.6</a>所示。fused gattern
kernel是由稀疏矩阵乘法实现，因此是可微的。</p>
<p><a name="fig-aignn-fig6"><img data-src="AIGNN-Fig6.png"
alt="aignn-fig6" /></a></p>
<p>GNN相比传统DL的最大特点是引入了Sparse Matrix Operation。</p>
<p>文中<a href="#fig-aignn-tab3">Tab
3</a>中总结了各阶段算子的Kernel和计算特性，这与我们的结论互相对照一下。</p>
<p><a name="fig-aignn-tab3"><img data-src="AIGNN-Tab3.png"
alt="aignn-tab3" /></a></p>
<h1
id="characterizing-and-understanding-gcns-on-gpu-yan-2020">Characterizing
and Understanding GCNs on GPU [<a
href="#ref-Yan-2020">Yan-2020</a>]</h1>
<p>本文分析了GCN类的算法在inference阶段的特性，同时与经典的图分析算法（PageRank）和基于MLP的经典神经网络做了特性对比分析。</p>
<p>GCN顶点和边上的属性值是特征向量（维度至少为几十），而PageRank中顶点和边上的属性是标量。</p>
<ul>
<li>特征向量带来了更加良好的locality（一个顶点的数据被连续的访问）。</li>
<li>特征向量带来了更高的顶点内的并行性。</li>
</ul>
<p>本文利用sgemm实现GCN中特征向量（稀疏）与权重矩阵的乘法。</p>
<p>本文发现在GCN算法中的每一层<span
class="math inline">\(H=AXW\)</span>中，先计算<span
class="math inline">\(X&#39;=XW\)</span>再计算<span
class="math inline">\(H=AX&#39;\)</span>会带来更好的性能，因为<span
class="math inline">\(X\)</span>的纬度一般很高，而<span
class="math inline">\(W\)</span>的维度一般较低。</p>
<blockquote>
<p>但是这样做会带来<span class="math inline">\(X\)</span>也要参与<span
class="math inline">\(W\)</span>的梯度计算的问题，反而可能会得不偿失。</p>
</blockquote>
<p>本文发现实际图中的顶点度数分布符合幂律分布的特性，因此缓存高度数的顶点，有可能可以提升硬件Cache的命中率。</p>
<p>因为aggregation阶段需要并发地、原子地更新顶点的输出特征向量，因此向量化原子访问有可能可以提升aggregation阶段的效率。</p>
<h1 id="参考文献">参考文献</h1>
<ol type="1">
<li><p><a name="ref-aligraph">[AliGraph]</a>ZHU R, ZHAO K, YANG H, 等.
AliGraph: A Comprehensive Graph Neural Network Platform[J]. Proceedings
of the VLDB Endowment, 2019, 12(12): 2094–2105.
DOI:10.14778/3352063.3352127.</p></li>
<li><p><a name="ref-NeuGraph">[NeuGraph]</a>MA L, YANG Z, MIAO Y, 等.
NeuGraph: Parallel Deep Neural Network Computation on Large
Graphs[C/OL]//2019 USENIX Annual Technical Conference (USENIX ATC 19).
Renton, WA: USENIX Association, 2019: 443–458.
https://www.usenix.org/conference/atc19/presentation/ma.</p></li>
<li><p><a name="ref-DGL">[DGL]</a>WANG M, YU L, ZHENG D, 等. Deep Graph
Library: Towards Efficient and Scalable Deep Learning on Graphs[J/OL].
arXiv:1909.01315 [cs, stat], 2019[2020–06–20].
http://arxiv.org/abs/1909.01315.</p></li>
<li><p><a name="ref-Xu-2018">[Xu-2018]</a>XU K, HU W, LESKOVEC J, 等.
How Powerful are Graph Neural Networks?[C/OL]//7th International
Conference on Learning Representations, ICLR 2019, New Orleans, LA, USA,
May 6-9, 2019. . https://openreview.net/forum?id=ryGs6iA5Km.</p></li>
<li><p><a name="ref-Zhang-ICAL-2020">[Zhang-ICAL-2020]</a>Z. ZHANG, J.
LENG, L. MA, 等. Architectural Implications of Graph Neural Networks[J].
IEEE Computer Architecture Letters, 2020, 19(1): 59–62.
DOI:10.1109/LCA.2020.2988991.</p></li>
<li><p><a name="ref-Yan-2020">[Yan-2020]</a>M. YAN, Z. CHEN, L. DENG,
等. Characterizing and Understanding GCNs on GPU[J]. IEEE Computer
Architecture Letters, 2020, 19(1): 22–25.
DOI:10.1109/LCA.2020.2970395.</p></li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://ypwang.github.io/2020/algorithm-acwing-improve-datastruture-375e087e6827/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/default-avatar.png">
      <meta itemprop="name" content="Yun-Pan Wang">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Life's Notes">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/algorithm-acwing-improve-datastruture-375e087e6827/" class="post-title-link" itemprop="url">algorithm-acwing-improve-datastruture</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-20 12:57:39" itemprop="dateCreated datePublished" datetime="2020-03-20T12:57:39+08:00">2020-03-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-05-27 09:05:35" itemprop="dateModified" datetime="2021-05-27T09:05:35+08:00">2021-05-27</time>
              </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>0</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Yun-Pan Wang"
      src="/images/default-avatar.png">
  <p class="site-author-name" itemprop="name">Yun-Pan Wang</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">115</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">72</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">69</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/AugF" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;AugF" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:wangyp@smail.nju.edu.cn" title="E-Mail → mailto:wangyp@smail.nju.edu.cn" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/Joswxe" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;Joswxe" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.google.com/" title="https:&#x2F;&#x2F;www.google.com" rel="noopener" target="_blank">Google</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://cn.bing.com/" title="https:&#x2F;&#x2F;cn.bing.com" rel="noopener" target="_blank">Bing</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.baidu.com/" title="https:&#x2F;&#x2F;www.baidu.com" rel="noopener" target="_blank">Baidu</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">[object Object]</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">466k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">7:04</span>
</div>!

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  
  <script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script>
  <script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://ypwang.github.io/',]
      });
      });
  </script>



</body>
</html>
